@if (allAppointmet.length > 0 ) {
<div class="flex flex-col items-center justify-center mb-5">
    <h1 class="text-4xl font-medium text-gray-800  dark:text-white">Tus citas y reservas</h1>
    <p class="mt-2 text-xl text-gray-500 dark:text-gray-400">Se mostraran todas las citas en las que estas asignadas y
        debes trabajar </p>
</div>
}

<div class="grid grid-cols-1 mt-6 sm:grid-cols-2 lg:grid-cols-5 gap-8">

    @for (appointment of allAppointmet; track $index) {
    <div 
    (click)="openModal(appointment.id)"
    class="max-w-xl overflow-hidden bg-white rounded-lg shadow-md dark:bg-gray-800"
    [class.pointer-events-none]="appointment.state === stateAppointment.FINISH || appointment.state === stateAppointment.CANCELLED"
    [class.opacity-50]="appointment.state === stateAppointment.FINISH || appointment.state === stateAppointment.CANCELLED"
    >
        <img class="object-cover w-full h-64"
            src="https://images.unsplash.com/photo-1550439062-609e1531270e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60"
            alt="Article">

        <div class="p-6">
            <div>
                <span class="text-xs font-medium text-blue-600 uppercase dark:text-blue-400">{{appointment.state}}
                </span>
                <p class="mt-1 text-amber-50 font-bold">{{appointment.appoiment_date | date:'shortDate'}}
                    {{appointment.appoiment_date | date:'shortTime'}}</p>
                <p class="block mt-2 text-xl font-semibold text-gray-800  dark:text-white" tabindex="0" role="link">
                    {{appointment.car.brand}} {{appointment.car.model}}</p>
            </div>

            <div class="flex mt-4">
                <div class="flex items-center">
                    <p class="text-amber-50 font-bold">Cliente:</p>
                    <a class="mx-2  text-gray-700 dark:text-gray-200">{{appointment.client.name}}
                        {{appointment.client.lastname}} </a>
                </div>
            </div>
                    <!-- Overlay para mostrar mensaje -->
        @if (appointment.state === stateAppointment.FINISH || appointment.state === stateAppointment.CANCELLED) {
        <div class="mt-3 p-2 bg-gray-500 rounded-lg text-sm">
            <p class=" text-gray-400 text-lg font-bold">
                {{ appointment.state === stateAppointment.FINISH ? 'Cita finalizada' : 'Cita cancelada' }}
            </p>
        </div>

        }
        </div>
        
    </div>

    
    }
</div>

@if (allAppointmet.length == 0) {
<div class="m-5">
    <div class="flex flex-col items-center justify-center">

        <div class="bg-red-100 text-red-600 rounded-full p-4 mb-6">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M12 9v2m0 4h.01M12 5a7 7 0 100 14a7 7 0 000-14z" />
            </svg>
        </div>

        <h1 class="text-2xl font-semibold text-gray-800 dark:text-white mb-3 text-center">
            No tienes citas ni reservas asignadas
        </h1>

        <p class="text-lg text-gray-600 dark:text-gray-300 mb-6 text-center">
            Actualmente no hay ninguna cita en la que debas trabajar.
        </p>
    </div>
</div>

}